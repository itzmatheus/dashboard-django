{% extends 'base.html' %}

{% load static %}

{% block title %}Recuperação de Senha{% endblock %}


{% block css %}
<link href="{% static 'css/accounts/styles.css' %}" rel="stylesheet">
{% endblock %}

{% block content %}

<div class="wrapper">
  <div id="formContent">

    <div>
      <svg style="padding: 10px 0;" class="bi bi-lock" width="150px" height="150px" viewBox="0 0 16 16" fill="#56baed" xmlns="http://www.w3.org/2000/svg">
        <path fill-rule="evenodd" d="M11.5 8h-7a1 1 0 0 0-1 1v5a1 1 0 0 0 1 1h7a1 1 0 0 0 1-1V9a1 1 0 0 0-1-1zm-7-1a2 2 0 0 0-2 2v5a2 2 0 0 0 2 2h7a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-7zm0-3a3.5 3.5 0 1 1 7 0v3h-1V4a2.5 2.5 0 0 0-5 0v3h-1V4z"/>
      </svg>
      <h5>Gerar Nova Senha</h5>
    </div>

    {% if validlink %}

    {% if form.new_password2.errors %}
      <div class="bodyPasswordReset">
        {% for error in form.new_password2.errors %}
          <p style="color: red">{{ error }}</p>
        {% endfor %}
      </div>
    {% endif %}

      <form method="post">{% csrf_token %}

        <label for="{{ form.new_password1.id_for_label }}"></label>
        <input type="password" placeholder="Nova Senha" name="new_password1" autocomplete="new-password" required="" id="id_new_password1">

        <label for="{{ form.new_password2.id_for_label }}"></label>
        <input type="password" placeholder="Confirmar Senha" name="new_password2" autocomplete="new-password" required="" id="id_new_password2">

        <button type="submit" id="btn-login">Alterar</button>
      </form> 
    {% else %}
    <div class="bodyPasswordReset">
      <p>
        Seu link de redefinição de senha está inválido, possivelmente porque já foi usado ou expirado. Solicite uma nova redefinição de senha.
      </p>
    </div>

      <div id="formFooter">
        <a class="underlineHover" href="{% url 'password_reset' %}">Nova Recuperação de Senha</a>
      </div>
    {% endif %}


  </div>
</div>
  
{% endblock %}